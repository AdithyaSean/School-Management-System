@startuml Broadcast Announcements Sequence

actor Principal
participant "Announcement UI" as UI
participant "Announcement Controller" as Ctrl
participant "Announcement Service" as Svc
participant "Notification Service" as NSvc
database "Announcement Database" as DB

Principal -> UI: Create Announcement
activate UI
UI -> Ctrl: createAnnouncement(details)
activate Ctrl
Ctrl -> Svc: saveAnnouncement(details)
activate Svc
Svc -> DB: insert()
DB --> Svc: confirm
Svc --> Ctrl: success
Ctrl --> UI: refresh view
UI --> Principal: show confirmation
deactivate UI
deactivate Ctrl
deactivate Svc

Principal -> UI: Select Users
activate UI
UI -> Ctrl: selectUsers(userIds)
activate Ctrl
Ctrl -> NSvc: notifyUsers(userIds, announcementId)
activate NSvc
NSvc -> DB: logNotification()
DB --> NSvc: confirm
NSvc --> Ctrl: notifications sent
Ctrl --> UI: show success
UI --> Principal: confirmation
deactivate UI
deactivate Ctrl
deactivate NSvc

@enduml
