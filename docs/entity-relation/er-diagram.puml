@startuml School Management System - ERD Diagram

' Layout and style settings
!define primary_key(x) <b>PK x</b>
!define foreign_key(x) FK x
skinparam linetype ortho
hide methods
hide stereotypes
hide circle

entity User {
    primary_key(id)
    schoolId
    username
    password
    firstName
    lastName
    email
    phone
    address
    lastLogin
    isActive
    fingerprint
}

entity Student {
    primary_key(studentId)
    foreign_key(userId)
    grade
    section
    enrollmentDate
    parentName
    parentContact
    gpa
}

entity Teacher {
    primary_key(teacherId)
    foreign_key(userId)
    department
    subjects
    joiningDate
    qualification
}

entity SectionHead {
    primary_key(sectionId)
    foreign_key(teacherId)
    department
}

entity Principal {
    primary_key(schoolId)
    foreign_key(userId)
    appointmentDate
}

entity Admin {
    primary_key(adminId)
    foreign_key(userId)
    accessLevel
}

entity Assessment {
    primary_key(id)
    assessment_title
    description
    dueDate
    totalMarks
    subject
    assignedTo
}

entity Exam {
    primary_key(id)
    name
    subject
    date
    duration
    totalMarks
}

entity ExamResult {
    primary_key(id)
    foreign_key(examId)
    foreign_key(studentId)
    marks
    grade
    remarks
    date
}

entity TimeTable {
    primary_key(id)
    grade
    section
    schedule
    validFrom
    validTo
}

entity Session {
    primary_key(id)
    subject
    foreign_key(teacherId)
    startTime
    endTime
    day
}

entity Report {
    primary_key(id)
    type
    date
    foreign_key(generatedBy)
    content
}

entity StudentRecord {
    primary_key(studentId)
    foreign_key(studentId)
    currentGrade
    academicYear
    subjects
    attendance
    achievements
}

entity Log {
    primary_key(id)
    action
    timestamp
    foreign_key(userId)
    details
}

' Relationships
User ||--o{ Student : "is a"
User ||--o{ Teacher : "is a"
User ||--o{ Admin : "is a"
User ||--o{ Principal : "is a"

Teacher ||--o{ SectionHead : "can be"
Student }o--|| Assessment : "submits"
Teacher ||--o{ Assessment : "creates"
Student }o--|| Exam : "takes"
Teacher ||--o{ Exam : "conducts"
Exam ||--o{ ExamResult : "generates"
Student ||--|| StudentRecord : "has"
TimeTable ||--o{ Session : "contains"
Teacher ||--o{ Session : "teaches"
StudentRecord ||--o{ Assessment : "tracks"
StudentRecord ||--o{ ExamResult : "includes"
StudentRecord ||--o{ Report : "generates"
User ||--o{ Log : "creates"

@enduml
